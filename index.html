<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사주 팔자 - 온라인 사주 보기</title>
    <link rel="stylesheet" href="/styles.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1947918642488492"
     crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔮 사주 팔자</h1>
            <p>당신의 생년월일시로 사주를 알아보세요</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <form id="sajuForm">
                    <div class="form-group">
                        <label>생년월일</label>
                        <div class="birth-inputs">
                            <input type="number" id="year" placeholder="년 (예: 1990)" min="1900" max="2025" required>
                            <input type="number" id="month" placeholder="월 (1-12)" min="1" max="12" required>
                            <input type="number" id="day" placeholder="일 (1-31)" min="1" max="31" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>출생시간</label>
                        <div class="time-inputs">
                            <input type="number" id="hour" placeholder="시 (0-23)" min="0" max="23" required>
                            <input type="number" id="minute" placeholder="분 (0-59)" min="0" max="59" value="0">
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">사주 보기 🎯</button>
                </form>
            </div>
            
            <div id="result" class="result-section">
                <div class="saju-display">
                    <h3>🌟 당신의 사주 팔자</h3>
                    <div class="pillars" id="pillars">
                        <!-- 사주 팔자가 여기에 표시됩니다 -->
                    </div>
                </div>
                
                <div class="element-info" id="elementInfo">
                    <!-- 오행 정보가 여기에 표시됩니다 -->
                </div>
                
                <div class="analysis" id="analysis">
                    <!-- 분석 결과가 여기에 표시됩니다 -->
                </div>

                <!-- 공유 섹션 추가 -->
                <div class="share-section">
                    <h3>🔗 친구들과 공유하기</h3>
                    <p style="color: #666; margin-bottom: 20px;">이 사주 결과를 친구들에게 공유해보세요!</p>
                    
                    <div class="share-buttons">
                        <button class="share-btn share-link" onclick="copyToClipboard()">
                            📋 링크 복사
                        </button>
                        <button class="share-btn share-kakao" onclick="shareKakao()">
                            💬 카카오톡
                        </button>
                        <button class="share-btn share-facebook" onclick="shareFacebook()">
                            📘 페이스북
                        </button>
                        <button class="share-btn share-twitter" onclick="shareTwitter()">
                            🐦 트위터
                        </button>
                    </div>
                    
                    <div id="shareMessage" class="share-message">
                        링크가 클립보드에 복사되었습니다! 🎉
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="header">
            <h1>사이트 소개</h1>
        </div>
        <div class="content">
            <div class="text-section">
                이 사이트는 생년월일과 출생 시간을 기반으로 사주를 간단하고 정확하게 확인할 수 있도록 만들어진 서비스입니다. 
                복잡한 명리학 지식이 없어도 누구나 쉽게 자신의 운세 흐름과 성향을 이해할 수 있도록 직관적인 UI로 구성했습니다. 
                사용자는 자신의 사주를 통해 타고난 강점과 약점, 성격 특성, 건강과 직업 적성, 인간관계 등 다양한 면을 이해할 수 있습니다. 
                또한, 사주를 기반으로 현재 시점과 앞으로의 운세 흐름을 직관적으로 확인할 수 있으며, 이를 통해 더 나은 선택과 계획을 세울 수 있습니다. 
                앞으로 더 다양한 콘텐츠와 기능을 제공할 예정이며, 사용자에게 실질적으로 도움이 되는 정보를 지속적으로 업데이트할 계획입니다.
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>사주란?</h1>
        </div>
        <div class="content">
            <div class="text-section">
                사주는 태어난 연 · 월 · 일 · 시 네 가지 기둥으로 구성되며, 이를 통해 타고난 기질과 인생의 흐름을 해석합니다. 
                명리학에서는 사람이 태어난 시점의 기운이 평생에 영향을 미친다고 보고, 이를 음양오행과 천간·지지 체계로 분석합니다. 
                사주는 단순한 운세 예측 도구가 아니라, 자신의 성향과 가능성을 이해하고 삶의 방향을 설계하는 데 도움을 줍니다. 
                예를 들어, 같은 생년월일이라도 태어난 시각에 따라 성격과 재능, 운의 흐름이 달라질 수 있으며, 이를 정확히 이해하면 인생의 기회를 더 잘 활용할 수 있습니다. 
                사주 분석을 통해 개인의 강점을 극대화하고 약점을 보완하며, 보다 조화로운 인간관계와 삶의 균형을 만들어갈 수 있습니다.
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>오행이란?</h1>
        </div>
        <div class="content">
            <div class="text-section">
                오행은 목(木), 화(火), 토(土), 금(金), 수(水) 다섯 가지 기운을 의미하며, 세상의 모든 흐름을 설명하는 기본 원리입니다. 
                사주에서는 각 기운의 균형과 조화를 통해 개인의 성향, 건강, 직업 적성, 인간관계 등 다양한 면을 분석합니다. 
                목(木) 기운이 강한 사람은 성장과 확장, 창의력과 추진력이 뛰어나며 새로운 시도를 즐깁니다. 
                화(火) 기운이 강한 사람은 열정적이고 활발하며 대인관계에서 활약하지만, 충동적인 면이 있을 수 있습니다. 
                토(土) 기운이 강한 사람은 안정적이고 신뢰감이 있으며 중심을 잡는 역할을 잘 수행합니다. 
                금(金) 기운이 강하면 판단력과 논리적 사고가 뛰어나며 결단력이 있습니다. 
                수(水) 기운이 강한 사람은 지혜롭고 유연하며 상황에 따라 적응력이 뛰어납니다. 
                사주에서는 이러한 오행의 균형이 매우 중요하며, 부족하거나 과한 기운이 삶에 미치는 영향을 이해하는 것이 핵심입니다.
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>띠별 궁합</h1>
        </div>
        <div class="content">
            <div class="text-section">
                띠별 궁합은 상대방과의 성향 조화, 대화 방식, 감정 표현, 가치관 등을 파악하는 데 도움을 줍니다. 
                궁합은 단순히 좋고 나쁨을 결정하기 위한 것이 아니라, 서로를 이해하고 관계를 더 풍부하게 만드는 데 목적이 있습니다. 
                예를 들어, 불(火) 기운이 강한 사람은 물(水) 기운이 강한 사람과 함께할 때 서로의 부족한 점을 보완하고 긍정적인 영향을 주고받을 수 있습니다. 
                목(木)과 토(土) 기운이 조화를 이루면 성장과 안정이 균형을 이루고, 금(金)과 수(水)의 조화는 지혜와 판단력이 조화롭게 발휘됩니다. 
                이를 이해하면 연인, 친구, 직장 동료 등 다양한 인간관계에서 갈등을 줄이고 상호 보완적인 관계를 만들어갈 수 있습니다. 
                사이트에서는 간단한 띠별 궁합 분석을 통해 사용자가 관계를 이해하고 더욱 건강한 인간관계를 만들어가는 데 도움을 제공합니다.
            </div>
        </div>
    </div>

    <footer style="text-align:center; margin:20px 0;">
        &copy; 2025 4zu8za
        <br>
        <a href="/privacy.html">개인정보 처리방침</a>
    </footer>

    <script>
        let sajuData = null;
        let currentSajuResult = null;

        // 샘플 데이터 (실제로는 data.json에서 로드)
        const mockSajuData = {
            heavenlyStems: ['갑', '을', '병', '정', '무', '기', '경', '신', '임', '계'],
            earthlyBranches: ['자', '축', '인', '묘', '진', '사', '오', '미', '신', '유', '술', '해'],
            animals: {
                '자': '쥐', '축': '소', '인': '호랑이', '묘': '토끼', '진': '용', '사': '뱀',
                '오': '말', '미': '양', '신': '원숭이', '유': '닭', '술': '개', '해': '돼지'
            },
            elements: {
                '갑': '목', '을': '목', '병': '화', '정': '화', '무': '토',
                '기': '토', '경': '금', '신': '금', '임': '수', '계': '수'
            },
            branchElements: {
                '자': '수', '축': '토', '인': '목', '묘': '목', '진': '토', '사': '화',
                '오': '화', '미': '토', '신': '금', '유': '금', '술': '토', '해': '수'
            },
            personalities: {
                '갑': {
                    name: '큰 나무 (갑목)',
                    description: '의리가 있고 정직하며, 리더십이 강한 성격입니다. 곧은 성품으로 많은 사람들의 신뢰를 받습니다.',
                    traits: ['리더십', '의리', '정직', '고집', '책임감']
                },
                '을': {
                    name: '작은 나무 (을목)',
                    description: '부드럽고 유연하며, 적응력이 뛰어난 성격입니다. 섬세하고 배려심이 많습니다.',
                    traits: ['유연성', '섬세함', '배려', '적응력', '감수성']
                },
                '병': {
                    name: '태양 (병화)',
                    description: '밝고 활발하며, 열정적인 성격입니다. 사교성이 뛰어나고 긍정적인 에너지를 가지고 있습니다.',
                    traits: ['열정', '사교성', '밝음', '활발함', '긍정적']
                },
                '정': {
                    name: '촛불 (정화)',
                    description: '따뜻하고 세심하며, 감정이 풍부한 성격입니다. 예술적 감각이 뛰어납니다.',
                    traits: ['따뜻함', '세심함', '감정적', '예술적', '직관적']
                },
                '무': {
                    name: '산 (무토)',
                    description: '든든하고 신뢰할 수 있으며, 포용력이 큰 성격입니다. 안정을 추구합니다.',
                    traits: ['안정성', '포용력', '신뢰성', '든든함', '보수적']
                },
                '기': {
                    name: '밭 (기토)',
                    description: '온화하고 너그러우며, 봉사정신이 강한 성격입니다. 다른 사람을 잘 도와줍니다.',
                    traits: ['온화함', '너그러움', '봉사정신', '포용력', '인내심']
                },
                '경': {
                    name: '쇠 (경금)',
                    description: '강직하고 원칙적이며, 정의감이 강한 성격입니다. 목표 의식이 뚜렷합니다.',
                    traits: ['강직함', '원칙적', '정의감', '목표지향', '완벽주의']
                },
                '신': {
                    name: '보석 (신금)',
                    description: '세련되고 예리하며, 감각이 뛰어난 성격입니다. 변화를 좋아합니다.',
                    traits: ['세련됨', '예리함', '감각적', '변화지향', '창의적']
                },
                '임': {
                    name: '바다 (임수)',
                    description: '깊이가 있고 포용력이 크며, 지혜로운 성격입니다. 통찰력이 뛰어납니다.',
                    traits: ['깊이', '포용력', '지혜', '통찰력', '신중함']
                },
                '계': {
                    name: '비 (계수)',
                    description: '부드럽고 순응적이며, 감성이 풍부한 성격입니다. 타인의 감정을 잘 이해합니다.',
                    traits: ['부드러움', '순응성', '감성적', '공감능력', '직관력']
                }
            },
            fortune: {
                '목': {
                    career: '창의적이고 성장하는 분야에서 능력을 발휘합니다. 교육, 출판, 디자인 분야가 좋습니다.',
                    love: '진실하고 깊은 감정을 추구합니다. 서로의 성장을 도와주는 관계가 이상적입니다.',
                    health: '간과 눈 건강에 주의하세요. 스트레스 관리와 충분한 휴식이 필요합니다.',
                    wealth: '꾸준한 성장을 통해 재물을 축적합니다. 투자보다는 저축을 통한 재테크가 유리합니다.'
                },
                '화': {
                    career: '사람들과 소통하는 분야에서 두각을 나타냅니다. 연예, 방송, 마케팅 분야가 적합합니다.',
                    love: '열정적이고 로맨틱한 사랑을 합니다. 감정 표현이 솔직하고 직접적입니다.',
                    health: '심장과 혈관 건강을 챙기세요. 과도한 흥분이나 스트레스를 피하는 것이 좋습니다.',
                    wealth: '기복이 있을 수 있으니 안정적인 수입원을 확보하는 것이 중요합니다.'
                },
                '토': {
                    career: '안정적이고 신뢰를 바탕으로 하는 분야가 좋습니다. 부동산, 농업, 공무원이 적합합니다.',
                    love: '안정적이고 든든한 관계를 선호합니다. 가정적이고 현실적인 사랑관을 가집니다.',
                    health: '소화기관과 위장 건강에 신경 쓰세요. 규칙적인 식사와 운동이 중요합니다.',
                    wealth: '안정적인 재물 축적이 가능합니다. 부동산 투자나 장기 저축이 유리합니다.'
                },
                '금': {
                    career: '정확성과 전문성이 요구되는 분야에서 성공합니다. 금융, 의료, 법률 분야가 좋습니다.',
                    love: '완벽을 추구하는 경향이 있습니다. 상대방을 있는 그대로 받아들이는 것이 중요합니다.',
                    health: '폐와 기관지, 피부 건강에 주의하세요. 미세먼지나 알레르기에 조심하세요.',
                    wealth: '정확한 판단력으로 투자에서 좋은 성과를 거둘 수 있습니다.'
                },
                '수': {
                    career: '변화와 유연성이 필요한 분야에 적합합니다. IT, 무역, 운송업이 좋습니다.',
                    love: '깊고 진실한 감정을 중시합니다. 서로의 내면을 이해하는 관계를 추구합니다.',
                    health: '신장과 방광, 생식기 건강에 주의하세요. 충분한 수분 섭취가 중요합니다.',
                    wealth: '변동성이 큰 투자보다는 안정적인 수익을 추구하는 것이 좋습니다.'
                }
            },
            compatibility: {
                '목': { good: ['수', '목'], bad: ['금', '토'] },
                '화': { good: ['목', '화'], bad: ['수'] },
                '토': { good: ['화', '토'], bad: ['목'] },
                '금': { good: ['토', '금'], bad: ['화'] },
                '수': { good: ['금', '수'], bad: ['토'] }
            }
        };

        // 데이터 로드
        async function loadSajuData() {
            try {
                const response = await fetch('data.json');
                sajuData = await response.json();
            } catch (error) {
                console.warn('data.json 로드 실패, 샘플 데이터 사용:', error);
                sajuData = mockSajuData;
            }
        }

        // 천간 계산
        function getHeavenlyStem(year) {
            return sajuData.heavenlyStems[(year - 4) % 10];
        }

        // 지지 계산
        function getEarthlyBranch(year) {
            return sajuData.earthlyBranches[(year - 4) % 12];
        }

        // 월주 계산
        function getMonthPillar(year, month) {
            const yearStemIndex = (year - 4) % 10;
            const monthStemBase = [2, 4, 6, 8, 0, 2, 4, 6, 8, 0]; // 갑기년부터 시작
            const monthStems = [
                [4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6], // 갑기년
                [6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8], // 을경년
                [8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0], // 병신년
                [0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2], // 정임년
                [2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4]  // 무계년
            ];
            
            const stemGroup = Math.floor(yearStemIndex / 2);
            const monthStem = sajuData.heavenlyStems[monthStems[stemGroup][month - 1]];
            const monthBranch = sajuData.earthlyBranches[(month + 1) % 12];
            
            return { stem: monthStem, branch: monthBranch };
        }

        // 일주 계산 (간단한 근사치)
        function getDayPillar(year, month, day) {
            const date = new Date(year, month - 1, day);
            const dayCount = Math.floor(date.getTime() / (1000 * 60 * 60 * 24));
            const stemIndex = (dayCount + 4) % 10;
            const branchIndex = (dayCount + 2) % 12;
            
            return {
                stem: sajuData.heavenlyStems[stemIndex],
                branch: sajuData.earthlyBranches[branchIndex]
            };
        }

        // 시주 계산
        function getHourPillar(dayStem, hour) {
            const dayStemIndex = sajuData.heavenlyStems.indexOf(dayStem);
            const hourStemBase = [0, 2, 4, 6, 8, 0, 2, 4, 6, 8]; // 갑기일부터
            const hourStems = [
                [0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2], // 갑기일
                [2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4], // 을경일
                [4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6], // 병신일
                [6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8], // 정임일
                [8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0]  // 무계일
            ];
            
            const stemGroup = Math.floor(dayStemIndex / 2);
            const hourIndex = Math.floor((hour + 1) / 2) % 12;
            const hourStem = sajuData.heavenlyStems[hourStems[stemGroup][hourIndex]];
            const hourBranch = sajuData.earthlyBranches[hourIndex];
            
            return { stem: hourStem, branch: hourBranch };
        }

        // 사주 계산
        function calculateSaju(year, month, day, hour) {
            const yearPillar = {
                stem: getHeavenlyStem(year),
                branch: getEarthlyBranch(year)
            };
            
            const monthPillar = getMonthPillar(year, month);
            const dayPillar = getDayPillar(year, month, day);
            const hourPillar = getHourPillar(dayPillar.stem, hour);
            
            return {
                year: yearPillar,
                month: monthPillar,
                day: dayPillar,
                hour: hourPillar
            };
        }

        // 오행 분석
        function analyzeElements(saju) {
            const elements = {};
            
            // 각 기둥의 오행 계산
            Object.values(saju).forEach(pillar => {
                const stemElement = sajuData.elements[pillar.stem];
                const branchElement = sajuData.branchElements[pillar.branch];
                
                elements[stemElement] = (elements[stemElement] || 0) + 1;
                elements[branchElement] = (elements[branchElement] || 0) + 1;
            });
            
            return elements;
        }

        // 결과 표시
        function displayResult(saju, year, month, day) {
            const pillarsDiv = document.getElementById('pillars');
            const elementInfoDiv = document.getElementById('elementInfo');
            const analysisDiv = document.getElementById('analysis');
            
            // 현재 결과 저장 (공유용)
            currentSajuResult = { saju, year, month, day };
            
            // 사주 팔자 표시
            const pillarNames = ['연주', '월주', '일주', '시주'];
            const pillarKeys = ['year', 'month', 'day', 'hour'];
            
            pillarsDiv.innerHTML = '';
            pillarKeys.forEach((key, index) => {
                const pillar = saju[key];
                const animal = sajuData.animals[pillar.branch];
                
                pillarsDiv.innerHTML += `
                    <div class="pillar">
                        <h4>${pillarNames[index]}</h4>
                        <div class="stem">${pillar.stem}</div>
                        <div class="branch">${pillar.branch}</div>
                        <div style="font-size: 0.8em; color: #666; margin-top: 5px;">${animal}</div>
                    </div>
                `;
            });
            
            // 오행 분석
            const elements = analyzeElements(saju);
            const mainElement = Object.keys(elements).reduce((a, b) => elements[a] > elements[b] ? a : b);
            
            elementInfoDiv.innerHTML = `
                <h3>🌿 주요 오행</h3>
                <div class="element-badge">${mainElement}</div>
                <div style="margin-top: 15px;">
                    ${Object.entries(elements).map(([element, count]) => 
                        `<span class="element-badge" style="font-size: 1em;">${element}: ${count}</span>`
                    ).join('')}
                </div>
            `;
            
            // 성격 분석
            const dayMaster = saju.day.stem;
            const personality = sajuData.personalities[dayMaster];
            const fortune = sajuData.fortune[sajuData.elements[dayMaster]];
            
            analysisDiv.innerHTML = `
                <div class="analysis-card">
                    <h3>🎭 성격 분석</h3>
                    <h4 style="color: #667eea; margin-bottom: 10px;">${personality.name}</h4>
                    <p>${personality.description}</p>
                    <div class="traits">
                        ${personality.traits.map(trait => `<span class="trait">${trait}</span>`).join('')}
                    </div>
                </div>
                
                <div class="analysis-card">
                    <h3>💼 직업운</h3>
                    <p>${fortune.career}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>💕 연애운</h3>
                    <p>${fortune.love}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>🏥 건강운</h3>
                    <p>${fortune.health}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>💰 재물운</h3>
                    <p>${fortune.wealth}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>🔄 오행 상성</h3>
                    <p><strong>좋은 오행:</strong> ${sajuData.compatibility[mainElement].good.join(', ')}</p>
                    <p><strong>주의할 오행:</strong> ${sajuData.compatibility[mainElement].bad.join(', ')}</p>
                </div>
            `;
            
            document.getElementById('result').style.display = 'block';
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }

        // 공유 기능들
        function copyToClipboard() {
            const url = window.location.href;
            const text = generateShareText();
            const fullText = `${text}\n\n${url}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(fullText).then(() => {
                    showShareMessage();
                }).catch(() => {
                    fallbackCopyTextToClipboard(fullText);
                });
            } else {
                fallbackCopyTextToClipboard(fullText);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showShareMessage();
            } catch (err) {
                alert('링크 복사에 실패했습니다. 수동으로 복사해주세요: ' + text);
            }
            
            document.body.removeChild(textArea);
        }

        function generateShareText() {
            if (!currentSajuResult) return '사주 팔자를 확인해보세요!';
            
            const { saju, year, month, day } = currentSajuResult;
            const dayMaster = saju.day.stem;
            const personality = sajuData.personalities[dayMaster];
            
            return `🔮 나의 사주 팔자 결과!
${year}년 ${month}월 ${day}일생
일주: ${saju.day.stem}${saju.day.branch} (${personality.name})

${personality.description}

당신도 사주를 확인해보세요!`;
        }

        function showShareMessage() {
            const message = document.getElementById('shareMessage');
            message.style.display = 'block';
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }

        function shareKakao() {
            const url = window.location.href;
            const text = generateShareText();
            
            // 카카오톡 공유 (모바일에서만 작동)
            if (navigator.share) {
                navigator.share({
                    title: '사주 팔자 결과',
                    text: text,
                    url: url
                }).catch(console.error);
            } else {
                // 카카오톡 웹 링크로 공유
                const kakaoUrl = `https://accounts.kakao.com/login?continue=https%3A%2F%2Fkapi.kakao.com%2Fv1%2Fapi%2Ftalk%2Ffriends%2Fmessage%2Fdefault%2Fsend`;
                copyToClipboard();
                alert('링크가 복사되었습니다. 카카오톡에서 친구에게 전송해주세요!');
            }
        }

        function shareFacebook() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(generateShareText());
            const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
            window.open(facebookUrl, '_blank', 'width=600,height=400');
        }

        function shareTwitter() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(generateShareText());
            const twitterUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
            window.open(twitterUrl, '_blank', 'width=600,height=400');
        }

        // 폼 제출 처리
        document.getElementById('sajuForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!sajuData) {
                alert('데이터가 아직 로드되지 않았습니다. 잠시 후 다시 시도해주세요.');
                return;
            }
            
            const year = parseInt(document.getElementById('year').value);
            const month = parseInt(document.getElementById('month').value);
            const day = parseInt(document.getElementById('day').value);
            const hour = parseInt(document.getElementById('hour').value);
            
            // 입력값 검증
            if (year < 1900 || year > 2025) {
                alert('년도는 1900년부터 2025년까지 입력 가능합니다.');
                return;
            }
            
            if (month < 1 || month > 12) {
                alert('월은 1부터 12까지 입력해주세요.');
                return;
            }
            
            if (day < 1 || day > 31) {
                alert('일은 1부터 31까지 입력해주세요.');
                return;
            }
            
            if (hour < 0 || hour > 23) {
                alert('시간은 0부터 23까지 입력해주세요.');
                return;
            }
            
            const saju = calculateSaju(year, month, day, hour);
            displayResult(saju, year, month, day);
        });

        // 페이지 로드 시 데이터 로드
        window.addEventListener('load', loadSajuData);
    </script>

</body>
</html>
