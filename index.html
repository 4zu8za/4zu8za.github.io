<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÇ¨Ï£º ÌåîÏûê - Ïò®ÎùºÏù∏ ÏÇ¨Ï£º Î≥¥Í∏∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            text-align: center;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .input-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .birth-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        .time-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .result-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .saju-display {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }

        .saju-display h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .pillars {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .pillar {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .pillar h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .pillar .stem {
            font-size: 1.8em;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 5px;
        }

        .pillar .branch {
            font-size: 1.8em;
            font-weight: bold;
            color: #4ecdc4;
        }

        .analysis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .analysis-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .analysis-card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .analysis-card p {
            line-height: 1.6;
            color: #666;
            margin-bottom: 15px;
        }

        .traits {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .trait {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .element-info {
            text-align: center;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .element-info h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .element-badge {
            display: inline-block;
            background: rgba(255,255,255,0.9);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin: 5px;
        }

        /* Í≥µÏú† Î≤ÑÌäº Ïä§ÌÉÄÏùº */
        .share-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            text-align: center;
        }

        .share-section h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .share-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .share-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .share-link {
            background: #667eea;
            color: white;
        }

        .share-kakao {
            background: #FEE500;
            color: #3C1E1E;
        }

        .share-facebook {
            background: #1877F2;
            color: white;
        }

        .share-twitter {
            background: #1DA1F2;
            color: white;
        }

        .share-message {
            background: #28a745;
            color: white;
            margin-top: 10px;
            padding: 10px 15px;
            border-radius: 10px;
            display: none;
        }

        @media (max-width: 768px) {
            .birth-inputs {
                grid-template-columns: 1fr;
            }
            
            .pillars {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .analysis {
                grid-template-columns: 1fr;
            }

            .share-buttons {
                flex-direction: column;
                align-items: center;
            }

            .share-btn {
                width: 200px;
                justify-content: center;
            }
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1947918642488492"
     crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîÆ ÏÇ¨Ï£º ÌåîÏûê</h1>
            <p>ÎãπÏã†Ïùò ÏÉùÎÖÑÏõîÏùºÏãúÎ°ú ÏÇ¨Ï£ºÎ•º ÏïåÏïÑÎ≥¥ÏÑ∏Ïöî</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <form id="sajuForm">
                    <div class="form-group">
                        <label>ÏÉùÎÖÑÏõîÏùº</label>
                        <div class="birth-inputs">
                            <input type="number" id="year" placeholder="ÎÖÑ (Ïòà: 1990)" min="1900" max="2025" required>
                            <input type="number" id="month" placeholder="Ïõî (1-12)" min="1" max="12" required>
                            <input type="number" id="day" placeholder="Ïùº (1-31)" min="1" max="31" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Ï∂úÏÉùÏãúÍ∞Ñ</label>
                        <div class="time-inputs">
                            <input type="number" id="hour" placeholder="Ïãú (0-23)" min="0" max="23" required>
                            <input type="number" id="minute" placeholder="Î∂Ñ (0-59)" min="0" max="59" value="0">
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">ÏÇ¨Ï£º Î≥¥Í∏∞ üéØ</button>
                </form>
            </div>
            
            <div id="result" class="result-section">
                <div class="saju-display">
                    <h3>üåü ÎãπÏã†Ïùò ÏÇ¨Ï£º ÌåîÏûê</h3>
                    <div class="pillars" id="pillars">
                        <!-- ÏÇ¨Ï£º ÌåîÏûêÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                    </div>
                </div>
                
                <div class="element-info" id="elementInfo">
                    <!-- Ïò§Ìñâ Ï†ïÎ≥¥Í∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                </div>
                
                <div class="analysis" id="analysis">
                    <!-- Î∂ÑÏÑù Í≤∞Í≥ºÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                </div>

                <!-- Í≥µÏú† ÏÑπÏÖò Ï∂îÍ∞Ä -->
                <div class="share-section">
                    <h3>üîó ÏπúÍµ¨Îì§Í≥º Í≥µÏú†ÌïòÍ∏∞</h3>
                    <p style="color: #666; margin-bottom: 20px;">Ïù¥ ÏÇ¨Ï£º Í≤∞Í≥ºÎ•º ÏπúÍµ¨Îì§ÏóêÍ≤å Í≥µÏú†Ìï¥Î≥¥ÏÑ∏Ïöî!</p>
                    
                    <div class="share-buttons">
                        <button class="share-btn share-link" onclick="copyToClipboard()">
                            üìã ÎßÅÌÅ¨ Î≥µÏÇ¨
                        </button>
                        <button class="share-btn share-kakao" onclick="shareKakao()">
                            üí¨ Ïπ¥Ïπ¥Ïò§ÌÜ°
                        </button>
                        <button class="share-btn share-facebook" onclick="shareFacebook()">
                            üìò ÌéòÏù¥Ïä§Î∂Å
                        </button>
                        <button class="share-btn share-twitter" onclick="shareTwitter()">
                            üê¶ Ìä∏ÏúÑÌÑ∞
                        </button>
                    </div>
                    
                    <div id="shareMessage" class="share-message">
                        ÎßÅÌÅ¨Í∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! üéâ
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let sajuData = null;
        let currentSajuResult = null;

        // ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ (Ïã§Ï†úÎ°úÎäî data.jsonÏóêÏÑú Î°úÎìú)
        const mockSajuData = {
            heavenlyStems: ['Í∞ë', 'ÏùÑ', 'Î≥ë', 'Ï†ï', 'Î¨¥', 'Í∏∞', 'Í≤Ω', 'Ïã†', 'ÏûÑ', 'Í≥Ñ'],
            earthlyBranches: ['Ïûê', 'Ï∂ï', 'Ïù∏', 'Î¨ò', 'ÏßÑ', 'ÏÇ¨', 'Ïò§', 'ÎØ∏', 'Ïã†', 'Ïú†', 'Ïà†', 'Ìï¥'],
            animals: {
                'Ïûê': 'Ï•ê', 'Ï∂ï': 'ÏÜå', 'Ïù∏': 'Ìò∏ÎûëÏù¥', 'Î¨ò': 'ÌÜ†ÎÅº', 'ÏßÑ': 'Ïö©', 'ÏÇ¨': 'Î±Ä',
                'Ïò§': 'Îßê', 'ÎØ∏': 'Ïñë', 'Ïã†': 'ÏõêÏà≠Ïù¥', 'Ïú†': 'Îã≠', 'Ïà†': 'Í∞ú', 'Ìï¥': 'ÎèºÏßÄ'
            },
            elements: {
                'Í∞ë': 'Î™©', 'ÏùÑ': 'Î™©', 'Î≥ë': 'Ìôî', 'Ï†ï': 'Ìôî', 'Î¨¥': 'ÌÜ†',
                'Í∏∞': 'ÌÜ†', 'Í≤Ω': 'Í∏à', 'Ïã†': 'Í∏à', 'ÏûÑ': 'Ïàò', 'Í≥Ñ': 'Ïàò'
            },
            branchElements: {
                'Ïûê': 'Ïàò', 'Ï∂ï': 'ÌÜ†', 'Ïù∏': 'Î™©', 'Î¨ò': 'Î™©', 'ÏßÑ': 'ÌÜ†', 'ÏÇ¨': 'Ìôî',
                'Ïò§': 'Ìôî', 'ÎØ∏': 'ÌÜ†', 'Ïã†': 'Í∏à', 'Ïú†': 'Í∏à', 'Ïà†': 'ÌÜ†', 'Ìï¥': 'Ïàò'
            },
            personalities: {
                'Í∞ë': {
                    name: 'ÌÅ∞ ÎÇòÎ¨¥ (Í∞ëÎ™©)',
                    description: 'ÏùòÎ¶¨Í∞Ä ÏûàÍ≥† Ï†ïÏßÅÌïòÎ©∞, Î¶¨ÎçîÏã≠Ïù¥ Í∞ïÌïú ÏÑ±Í≤©ÏûÖÎãàÎã§. Í≥ßÏùÄ ÏÑ±ÌíàÏúºÎ°ú ÎßéÏùÄ ÏÇ¨ÎûåÎì§Ïùò Ïã†Î¢∞Î•º Î∞õÏäµÎãàÎã§.',
                    traits: ['Î¶¨ÎçîÏã≠', 'ÏùòÎ¶¨', 'Ï†ïÏßÅ', 'Í≥†Ïßë', 'Ï±ÖÏûÑÍ∞ê']
                },
                'ÏùÑ': {
                    name: 'ÏûëÏùÄ ÎÇòÎ¨¥ (ÏùÑÎ™©)',
                    description: 'Î∂ÄÎìúÎüΩÍ≥† Ïú†Ïó∞ÌïòÎ©∞, Ï†ÅÏùëÎ†•Ïù¥ Îõ∞Ïñ¥ÎÇú ÏÑ±Í≤©ÏûÖÎãàÎã§. ÏÑ¨ÏÑ∏ÌïòÍ≥† Î∞∞Î†§Ïã¨Ïù¥ ÎßéÏäµÎãàÎã§.',
                    traits: ['Ïú†Ïó∞ÏÑ±', 'ÏÑ¨ÏÑ∏Ìï®', 'Î∞∞Î†§', 'Ï†ÅÏùëÎ†•', 'Í∞êÏàòÏÑ±']
                },
                'Î≥ë': {
                    name: 'ÌÉúÏñë (Î≥ëÌôî)',
                    description: 'Î∞ùÍ≥† ÌôúÎ∞úÌïòÎ©∞, Ïó¥Ï†ïÏ†ÅÏù∏ ÏÑ±Í≤©ÏûÖÎãàÎã§. ÏÇ¨ÍµêÏÑ±Ïù¥ Îõ∞Ïñ¥ÎÇòÍ≥† Í∏çÏ†ïÏ†ÅÏù∏ ÏóêÎÑàÏßÄÎ•º Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§.',
                    traits: ['Ïó¥Ï†ï', 'ÏÇ¨ÍµêÏÑ±', 'Î∞ùÏùå', 'ÌôúÎ∞úÌï®', 'Í∏çÏ†ïÏ†Å']
                },
                'Ï†ï': {
                    name: 'Ï¥õÎ∂à (Ï†ïÌôî)',
                    description: 'Îî∞ÎúªÌïòÍ≥† ÏÑ∏Ïã¨ÌïòÎ©∞, Í∞êÏ†ïÏù¥ ÌíçÎ∂ÄÌïú ÏÑ±Í≤©ÏûÖÎãàÎã§. ÏòàÏà†Ï†Å Í∞êÍ∞ÅÏù¥ Îõ∞Ïñ¥ÎÇ©ÎãàÎã§.',
                    traits: ['Îî∞ÎúªÌï®', 'ÏÑ∏Ïã¨Ìï®', 'Í∞êÏ†ïÏ†Å', 'ÏòàÏà†Ï†Å', 'ÏßÅÍ¥ÄÏ†Å']
                },
                'Î¨¥': {
                    name: 'ÏÇ∞ (Î¨¥ÌÜ†)',
                    description: 'Îì†Îì†ÌïòÍ≥† Ïã†Î¢∞Ìï† Ïàò ÏûàÏúºÎ©∞, Ìè¨Ïö©Î†•Ïù¥ ÌÅ∞ ÏÑ±Í≤©ÏûÖÎãàÎã§. ÏïàÏ†ïÏùÑ Ï∂îÍµ¨Ìï©ÎãàÎã§.',
                    traits: ['ÏïàÏ†ïÏÑ±', 'Ìè¨Ïö©Î†•', 'Ïã†Î¢∞ÏÑ±', 'Îì†Îì†Ìï®', 'Î≥¥ÏàòÏ†Å']
                },
                'Í∏∞': {
                    name: 'Î∞≠ (Í∏∞ÌÜ†)',
                    description: 'Ïò®ÌôîÌïòÍ≥† ÎÑàÍ∑∏Îü¨Ïö∞Î©∞, Î¥âÏÇ¨Ï†ïÏã†Ïù¥ Í∞ïÌïú ÏÑ±Í≤©ÏûÖÎãàÎã§. Îã§Î•∏ ÏÇ¨ÎûåÏùÑ Ïûò ÎèÑÏôÄÏ§çÎãàÎã§.',
                    traits: ['Ïò®ÌôîÌï®', 'ÎÑàÍ∑∏Îü¨ÏõÄ', 'Î¥âÏÇ¨Ï†ïÏã†', 'Ìè¨Ïö©Î†•', 'Ïù∏ÎÇ¥Ïã¨']
                },
                'Í≤Ω': {
                    name: 'Ïá† (Í≤ΩÍ∏à)',
                    description: 'Í∞ïÏßÅÌïòÍ≥† ÏõêÏπôÏ†ÅÏù¥Î©∞, Ï†ïÏùòÍ∞êÏù¥ Í∞ïÌïú ÏÑ±Í≤©ÏûÖÎãàÎã§. Î™©Ìëú ÏùòÏãùÏù¥ ÎöúÎ†∑Ìï©ÎãàÎã§.',
                    traits: ['Í∞ïÏßÅÌï®', 'ÏõêÏπôÏ†Å', 'Ï†ïÏùòÍ∞ê', 'Î™©ÌëúÏßÄÌñ•', 'ÏôÑÎ≤ΩÏ£ºÏùò']
                },
                'Ïã†': {
                    name: 'Î≥¥ÏÑù (Ïã†Í∏à)',
                    description: 'ÏÑ∏Î†®ÎêòÍ≥† ÏòàÎ¶¨ÌïòÎ©∞, Í∞êÍ∞ÅÏù¥ Îõ∞Ïñ¥ÎÇú ÏÑ±Í≤©ÏûÖÎãàÎã§. Î≥ÄÌôîÎ•º Ï¢ãÏïÑÌï©ÎãàÎã§.',
                    traits: ['ÏÑ∏Î†®Îê®', 'ÏòàÎ¶¨Ìï®', 'Í∞êÍ∞ÅÏ†Å', 'Î≥ÄÌôîÏßÄÌñ•', 'Ï∞ΩÏùòÏ†Å']
                },
                'ÏûÑ': {
                    name: 'Î∞îÎã§ (ÏûÑÏàò)',
                    description: 'ÍπäÏù¥Í∞Ä ÏûàÍ≥† Ìè¨Ïö©Î†•Ïù¥ ÌÅ¨Î©∞, ÏßÄÌòúÎ°úÏö¥ ÏÑ±Í≤©ÏûÖÎãàÎã§. ÌÜµÏ∞∞Î†•Ïù¥ Îõ∞Ïñ¥ÎÇ©ÎãàÎã§.',
                    traits: ['ÍπäÏù¥', 'Ìè¨Ïö©Î†•', 'ÏßÄÌòú', 'ÌÜµÏ∞∞Î†•', 'Ïã†Ï§ëÌï®']
                },
                'Í≥Ñ': {
                    name: 'ÎπÑ (Í≥ÑÏàò)',
                    description: 'Î∂ÄÎìúÎüΩÍ≥† ÏàúÏùëÏ†ÅÏù¥Î©∞, Í∞êÏÑ±Ïù¥ ÌíçÎ∂ÄÌïú ÏÑ±Í≤©ÏûÖÎãàÎã§. ÌÉÄÏù∏Ïùò Í∞êÏ†ïÏùÑ Ïûò Ïù¥Ìï¥Ìï©ÎãàÎã§.',
                    traits: ['Î∂ÄÎìúÎü¨ÏõÄ', 'ÏàúÏùëÏÑ±', 'Í∞êÏÑ±Ï†Å', 'Í≥µÍ∞êÎä•Î†•', 'ÏßÅÍ¥ÄÎ†•']
                }
            },
            fortune: {
                'Î™©': {
                    career: 'Ï∞ΩÏùòÏ†ÅÏù¥Í≥† ÏÑ±Ïû•ÌïòÎäî Î∂ÑÏïºÏóêÏÑú Îä•Î†•ÏùÑ Î∞úÌúòÌï©ÎãàÎã§. ÍµêÏú°, Ï∂úÌåê, ÎîîÏûêÏù∏ Î∂ÑÏïºÍ∞Ä Ï¢ãÏäµÎãàÎã§.',
                    love: 'ÏßÑÏã§ÌïòÍ≥† ÍπäÏùÄ Í∞êÏ†ïÏùÑ Ï∂îÍµ¨Ìï©ÎãàÎã§. ÏÑúÎ°úÏùò ÏÑ±Ïû•ÏùÑ ÎèÑÏôÄÏ£ºÎäî Í¥ÄÍ≥ÑÍ∞Ä Ïù¥ÏÉÅÏ†ÅÏûÖÎãàÎã§.',
                    health: 'Í∞ÑÍ≥º Îàà Í±¥Í∞ïÏóê Ï£ºÏùòÌïòÏÑ∏Ïöî. Ïä§Ìä∏Î†àÏä§ Í¥ÄÎ¶¨ÏôÄ Ï∂©Î∂ÑÌïú Ìú¥ÏãùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.',
                    wealth: 'Íæ∏Ï§ÄÌïú ÏÑ±Ïû•ÏùÑ ÌÜµÌï¥ Ïû¨Î¨ºÏùÑ Ï∂ïÏ†ÅÌï©ÎãàÎã§. Ìà¨ÏûêÎ≥¥Îã§Îäî Ï†ÄÏ∂ïÏùÑ ÌÜµÌïú Ïû¨ÌÖåÌÅ¨Í∞Ä Ïú†Î¶¨Ìï©ÎãàÎã§.'
                },
                'Ìôî': {
                    career: 'ÏÇ¨ÎûåÎì§Í≥º ÏÜåÌÜµÌïòÎäî Î∂ÑÏïºÏóêÏÑú ÎëêÍ∞ÅÏùÑ ÎÇòÌÉÄÎÉÖÎãàÎã§. Ïó∞Ïòà, Î∞©ÏÜ°, ÎßàÏºÄÌåÖ Î∂ÑÏïºÍ∞Ä Ï†ÅÌï©Ìï©ÎãàÎã§.',
                    love: 'Ïó¥Ï†ïÏ†ÅÏù¥Í≥† Î°úÎß®Ìã±Ìïú ÏÇ¨ÎûëÏùÑ Ìï©ÎãàÎã§. Í∞êÏ†ï ÌëúÌòÑÏù¥ ÏÜîÏßÅÌïòÍ≥† ÏßÅÏ†ëÏ†ÅÏûÖÎãàÎã§.',
                    health: 'Ïã¨Ïû•Í≥º ÌòàÍ¥Ä Í±¥Í∞ïÏùÑ Ï±ôÍ∏∞ÏÑ∏Ïöî. Í≥ºÎèÑÌïú Ìù•Î∂ÑÏù¥ÎÇò Ïä§Ìä∏Î†àÏä§Î•º ÌîºÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§.',
                    wealth: 'Í∏∞Î≥µÏù¥ ÏûàÏùÑ Ïàò ÏûàÏúºÎãà ÏïàÏ†ïÏ†ÅÏù∏ ÏàòÏûÖÏõêÏùÑ ÌôïÎ≥¥ÌïòÎäî Í≤ÉÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.'
                },
                'ÌÜ†': {
                    career: 'ÏïàÏ†ïÏ†ÅÏù¥Í≥† Ïã†Î¢∞Î•º Î∞îÌÉïÏúºÎ°ú ÌïòÎäî Î∂ÑÏïºÍ∞Ä Ï¢ãÏäµÎãàÎã§. Î∂ÄÎèôÏÇ∞, ÎÜçÏóÖ, Í≥µÎ¨¥ÏõêÏù¥ Ï†ÅÌï©Ìï©ÎãàÎã§.',
                    love: 'ÏïàÏ†ïÏ†ÅÏù¥Í≥† Îì†Îì†Ìïú Í¥ÄÍ≥ÑÎ•º ÏÑ†Ìò∏Ìï©ÎãàÎã§. Í∞ÄÏ†ïÏ†ÅÏù¥Í≥† ÌòÑÏã§Ï†ÅÏù∏ ÏÇ¨ÎûëÍ¥ÄÏùÑ Í∞ÄÏßëÎãàÎã§.',
                    health: 'ÏÜåÌôîÍ∏∞Í¥ÄÍ≥º ÏúÑÏû• Í±¥Í∞ïÏóê Ïã†Í≤Ω Ïì∞ÏÑ∏Ïöî. Í∑úÏπôÏ†ÅÏù∏ ÏãùÏÇ¨ÏôÄ Ïö¥ÎèôÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.',
                    wealth: 'ÏïàÏ†ïÏ†ÅÏù∏ Ïû¨Î¨º Ï∂ïÏ†ÅÏù¥ Í∞ÄÎä•Ìï©ÎãàÎã§. Î∂ÄÎèôÏÇ∞ Ìà¨ÏûêÎÇò Ïû•Í∏∞ Ï†ÄÏ∂ïÏù¥ Ïú†Î¶¨Ìï©ÎãàÎã§.'
                },
                'Í∏à': {
                    career: 'Ï†ïÌôïÏÑ±Í≥º Ï†ÑÎ¨∏ÏÑ±Ïù¥ ÏöîÍµ¨ÎêòÎäî Î∂ÑÏïºÏóêÏÑú ÏÑ±Í≥µÌï©ÎãàÎã§. Í∏àÏúµ, ÏùòÎ£å, Î≤ïÎ•† Î∂ÑÏïºÍ∞Ä Ï¢ãÏäµÎãàÎã§.',
                    love: 'ÏôÑÎ≤ΩÏùÑ Ï∂îÍµ¨ÌïòÎäî Í≤ΩÌñ•Ïù¥ ÏûàÏäµÎãàÎã§. ÏÉÅÎåÄÎ∞©ÏùÑ ÏûàÎäî Í∑∏ÎåÄÎ°ú Î∞õÏïÑÎì§Ïù¥Îäî Í≤ÉÏù¥ Ï§ëÏöîÌï©ÎãàÎã§.',
                    health: 'ÌèêÏôÄ Í∏∞Í¥ÄÏßÄ, ÌîºÎ∂Ä Í±¥Í∞ïÏóê Ï£ºÏùòÌïòÏÑ∏Ïöî. ÎØ∏ÏÑ∏Î®ºÏßÄÎÇò ÏïåÎ†àÎ•¥Í∏∞Ïóê Ï°∞Ïã¨ÌïòÏÑ∏Ïöî.',
                    wealth: 'Ï†ïÌôïÌïú ÌåêÎã®Î†•ÏúºÎ°ú Ìà¨ÏûêÏóêÏÑú Ï¢ãÏùÄ ÏÑ±Í≥ºÎ•º Í±∞Îëò Ïàò ÏûàÏäµÎãàÎã§.'
                },
                'Ïàò': {
                    career: 'Î≥ÄÌôîÏôÄ Ïú†Ïó∞ÏÑ±Ïù¥ ÌïÑÏöîÌïú Î∂ÑÏïºÏóê Ï†ÅÌï©Ìï©ÎãàÎã§. IT, Î¨¥Ïó≠, Ïö¥ÏÜ°ÏóÖÏù¥ Ï¢ãÏäµÎãàÎã§.',
                    love: 'ÍπäÍ≥† ÏßÑÏã§Ìïú Í∞êÏ†ïÏùÑ Ï§ëÏãúÌï©ÎãàÎã§. ÏÑúÎ°úÏùò ÎÇ¥Î©¥ÏùÑ Ïù¥Ìï¥ÌïòÎäî Í¥ÄÍ≥ÑÎ•º Ï∂îÍµ¨Ìï©ÎãàÎã§.',
                    health: 'Ïã†Ïû•Í≥º Î∞©Í¥ë, ÏÉùÏãùÍ∏∞ Í±¥Í∞ïÏóê Ï£ºÏùòÌïòÏÑ∏Ïöî. Ï∂©Î∂ÑÌïú ÏàòÎ∂Ñ ÏÑ≠Ï∑®Í∞Ä Ï§ëÏöîÌï©ÎãàÎã§.',
                    wealth: 'Î≥ÄÎèôÏÑ±Ïù¥ ÌÅ∞ Ìà¨ÏûêÎ≥¥Îã§Îäî ÏïàÏ†ïÏ†ÅÏù∏ ÏàòÏùµÏùÑ Ï∂îÍµ¨ÌïòÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§.'
                }
            },
            compatibility: {
                'Î™©': { good: ['Ïàò', 'Î™©'], bad: ['Í∏à', 'ÌÜ†'] },
                'Ìôî': { good: ['Î™©', 'Ìôî'], bad: ['Ïàò'] },
                'ÌÜ†': { good: ['Ìôî', 'ÌÜ†'], bad: ['Î™©'] },
                'Í∏à': { good: ['ÌÜ†', 'Í∏à'], bad: ['Ìôî'] },
                'Ïàò': { good: ['Í∏à', 'Ïàò'], bad: ['ÌÜ†'] }
            }
        };

        // Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        async function loadSajuData() {
            try {
                const response = await fetch('data.json');
                sajuData = await response.json();
            } catch (error) {
                console.warn('data.json Î°úÎìú Ïã§Ìå®, ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©:', error);
                sajuData = mockSajuData;
            }
        }

        // Ï≤úÍ∞Ñ Í≥ÑÏÇ∞
        function getHeavenlyStem(year) {
            return sajuData.heavenlyStems[(year - 4) % 10];
        }

        // ÏßÄÏßÄ Í≥ÑÏÇ∞
        function getEarthlyBranch(year) {
            return sajuData.earthlyBranches[(year - 4) % 12];
        }

        // ÏõîÏ£º Í≥ÑÏÇ∞
        function getMonthPillar(year, month) {
            const yearStemIndex = (year - 4) % 10;
            const monthStemBase = [2, 4, 6, 8, 0, 2, 4, 6, 8, 0]; // Í∞ëÍ∏∞ÎÖÑÎ∂ÄÌÑ∞ ÏãúÏûë
            const monthStems = [
                [4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6], // Í∞ëÍ∏∞ÎÖÑ
                [6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8], // ÏùÑÍ≤ΩÎÖÑ
                [8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0], // Î≥ëÏã†ÎÖÑ
                [0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2], // Ï†ïÏûÑÎÖÑ
                [2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4]  // Î¨¥Í≥ÑÎÖÑ
            ];
            
            const stemGroup = Math.floor(yearStemIndex / 2);
            const monthStem = sajuData.heavenlyStems[monthStems[stemGroup][month - 1]];
            const monthBranch = sajuData.earthlyBranches[(month + 1) % 12];
            
            return { stem: monthStem, branch: monthBranch };
        }

        // ÏùºÏ£º Í≥ÑÏÇ∞ (Í∞ÑÎã®Ìïú Í∑ºÏÇ¨Ïπò)
        function getDayPillar(year, month, day) {
            const date = new Date(year, month - 1, day);
            const dayCount = Math.floor(date.getTime() / (1000 * 60 * 60 * 24));
            const stemIndex = (dayCount + 4) % 10;
            const branchIndex = (dayCount + 2) % 12;
            
            return {
                stem: sajuData.heavenlyStems[stemIndex],
                branch: sajuData.earthlyBranches[branchIndex]
            };
        }

        // ÏãúÏ£º Í≥ÑÏÇ∞
        function getHourPillar(dayStem, hour) {
            const dayStemIndex = sajuData.heavenlyStems.indexOf(dayStem);
            const hourStemBase = [0, 2, 4, 6, 8, 0, 2, 4, 6, 8]; // Í∞ëÍ∏∞ÏùºÎ∂ÄÌÑ∞
            const hourStems = [
                [0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2], // Í∞ëÍ∏∞Ïùº
                [2, 4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4], // ÏùÑÍ≤ΩÏùº
                [4, 6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6], // Î≥ëÏã†Ïùº
                [6, 8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8], // Ï†ïÏûÑÏùº
                [8, 0, 2, 4, 6, 8, 0, 2, 4, 6, 8, 0]  // Î¨¥Í≥ÑÏùº
            ];
            
            const stemGroup = Math.floor(dayStemIndex / 2);
            const hourIndex = Math.floor((hour + 1) / 2) % 12;
            const hourStem = sajuData.heavenlyStems[hourStems[stemGroup][hourIndex]];
            const hourBranch = sajuData.earthlyBranches[hourIndex];
            
            return { stem: hourStem, branch: hourBranch };
        }

        // ÏÇ¨Ï£º Í≥ÑÏÇ∞
        function calculateSaju(year, month, day, hour) {
            const yearPillar = {
                stem: getHeavenlyStem(year),
                branch: getEarthlyBranch(year)
            };
            
            const monthPillar = getMonthPillar(year, month);
            const dayPillar = getDayPillar(year, month, day);
            const hourPillar = getHourPillar(dayPillar.stem, hour);
            
            return {
                year: yearPillar,
                month: monthPillar,
                day: dayPillar,
                hour: hourPillar
            };
        }

        // Ïò§Ìñâ Î∂ÑÏÑù
        function analyzeElements(saju) {
            const elements = {};
            
            // Í∞Å Í∏∞Îë•Ïùò Ïò§Ìñâ Í≥ÑÏÇ∞
            Object.values(saju).forEach(pillar => {
                const stemElement = sajuData.elements[pillar.stem];
                const branchElement = sajuData.branchElements[pillar.branch];
                
                elements[stemElement] = (elements[stemElement] || 0) + 1;
                elements[branchElement] = (elements[branchElement] || 0) + 1;
            });
            
            return elements;
        }

        // Í≤∞Í≥º ÌëúÏãú
        function displayResult(saju, year, month, day) {
            const pillarsDiv = document.getElementById('pillars');
            const elementInfoDiv = document.getElementById('elementInfo');
            const analysisDiv = document.getElementById('analysis');
            
            // ÌòÑÏû¨ Í≤∞Í≥º Ï†ÄÏû• (Í≥µÏú†Ïö©)
            currentSajuResult = { saju, year, month, day };
            
            // ÏÇ¨Ï£º ÌåîÏûê ÌëúÏãú
            const pillarNames = ['Ïó∞Ï£º', 'ÏõîÏ£º', 'ÏùºÏ£º', 'ÏãúÏ£º'];
            const pillarKeys = ['year', 'month', 'day', 'hour'];
            
            pillarsDiv.innerHTML = '';
            pillarKeys.forEach((key, index) => {
                const pillar = saju[key];
                const animal = sajuData.animals[pillar.branch];
                
                pillarsDiv.innerHTML += `
                    <div class="pillar">
                        <h4>${pillarNames[index]}</h4>
                        <div class="stem">${pillar.stem}</div>
                        <div class="branch">${pillar.branch}</div>
                        <div style="font-size: 0.8em; color: #666; margin-top: 5px;">${animal}</div>
                    </div>
                `;
            });
            
            // Ïò§Ìñâ Î∂ÑÏÑù
            const elements = analyzeElements(saju);
            const mainElement = Object.keys(elements).reduce((a, b) => elements[a] > elements[b] ? a : b);
            
            elementInfoDiv.innerHTML = `
                <h3>üåø Ï£ºÏöî Ïò§Ìñâ</h3>
                <div class="element-badge">${mainElement}</div>
                <div style="margin-top: 15px;">
                    ${Object.entries(elements).map(([element, count]) => 
                        `<span class="element-badge" style="font-size: 1em;">${element}: ${count}</span>`
                    ).join('')}
                </div>
            `;
            
            // ÏÑ±Í≤© Î∂ÑÏÑù
            const dayMaster = saju.day.stem;
            const personality = sajuData.personalities[dayMaster];
            const fortune = sajuData.fortune[sajuData.elements[dayMaster]];
            
            analysisDiv.innerHTML = `
                <div class="analysis-card">
                    <h3>üé≠ ÏÑ±Í≤© Î∂ÑÏÑù</h3>
                    <h4 style="color: #667eea; margin-bottom: 10px;">${personality.name}</h4>
                    <p>${personality.description}</p>
                    <div class="traits">
                        ${personality.traits.map(trait => `<span class="trait">${trait}</span>`).join('')}
                    </div>
                </div>
                
                <div class="analysis-card">
                    <h3>üíº ÏßÅÏóÖÏö¥</h3>
                    <p>${fortune.career}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>üíï Ïó∞Ïï†Ïö¥</h3>
                    <p>${fortune.love}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>üè• Í±¥Í∞ïÏö¥</h3>
                    <p>${fortune.health}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>üí∞ Ïû¨Î¨ºÏö¥</h3>
                    <p>${fortune.wealth}</p>
                </div>
                
                <div class="analysis-card">
                    <h3>üîÑ Ïò§Ìñâ ÏÉÅÏÑ±</h3>
                    <p><strong>Ï¢ãÏùÄ Ïò§Ìñâ:</strong> ${sajuData.compatibility[mainElement].good.join(', ')}</p>
                    <p><strong>Ï£ºÏùòÌï† Ïò§Ìñâ:</strong> ${sajuData.compatibility[mainElement].bad.join(', ')}</p>
                </div>
            `;
            
            document.getElementById('result').style.display = 'block';
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }

        // Í≥µÏú† Í∏∞Îä•Îì§
        function copyToClipboard() {
            const url = window.location.href;
            const text = generateShareText();
            const fullText = `${text}\n\n${url}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(fullText).then(() => {
                    showShareMessage();
                }).catch(() => {
                    fallbackCopyTextToClipboard(fullText);
                });
            } else {
                fallbackCopyTextToClipboard(fullText);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showShareMessage();
            } catch (err) {
                alert('ÎßÅÌÅ¨ Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. ÏàòÎèôÏúºÎ°ú Î≥µÏÇ¨Ìï¥Ï£ºÏÑ∏Ïöî: ' + text);
            }
            
            document.body.removeChild(textArea);
        }

        function generateShareText() {
            if (!currentSajuResult) return 'ÏÇ¨Ï£º ÌåîÏûêÎ•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî!';
            
            const { saju, year, month, day } = currentSajuResult;
            const dayMaster = saju.day.stem;
            const personality = sajuData.personalities[dayMaster];
            
            return `üîÆ ÎÇòÏùò ÏÇ¨Ï£º ÌåîÏûê Í≤∞Í≥º!
${year}ÎÖÑ ${month}Ïõî ${day}ÏùºÏÉù
ÏùºÏ£º: ${saju.day.stem}${saju.day.branch} (${personality.name})

${personality.description}

ÎãπÏã†ÎèÑ ÏÇ¨Ï£ºÎ•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî!`;
        }

        function showShareMessage() {
            const message = document.getElementById('shareMessage');
            message.style.display = 'block';
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        }

        function shareKakao() {
            const url = window.location.href;
            const text = generateShareText();
            
            // Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú† (Î™®Î∞îÏùºÏóêÏÑúÎßå ÏûëÎèô)
            if (navigator.share) {
                navigator.share({
                    title: 'ÏÇ¨Ï£º ÌåîÏûê Í≤∞Í≥º',
                    text: text,
                    url: url
                }).catch(console.error);
            } else {
                // Ïπ¥Ïπ¥Ïò§ÌÜ° Ïõπ ÎßÅÌÅ¨Î°ú Í≥µÏú†
                const kakaoUrl = `https://accounts.kakao.com/login?continue=https%3A%2F%2Fkapi.kakao.com%2Fv1%2Fapi%2Ftalk%2Ffriends%2Fmessage%2Fdefault%2Fsend`;
                copyToClipboard();
                alert('ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§. Ïπ¥Ïπ¥Ïò§ÌÜ°ÏóêÏÑú ÏπúÍµ¨ÏóêÍ≤å Ï†ÑÏÜ°Ìï¥Ï£ºÏÑ∏Ïöî!');
            }
        }

        function shareFacebook() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(generateShareText());
            const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
            window.open(facebookUrl, '_blank', 'width=600,height=400');
        }

        function shareTwitter() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(generateShareText());
            const twitterUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
            window.open(twitterUrl, '_blank', 'width=600,height=400');
        }

        // Ìèº Ï†úÏ∂ú Ï≤òÎ¶¨
        document.getElementById('sajuForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!sajuData) {
                alert('Îç∞Ïù¥ÌÑ∞Í∞Ä ÏïÑÏßÅ Î°úÎìúÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const year = parseInt(document.getElementById('year').value);
            const month = parseInt(document.getElementById('month').value);
            const day = parseInt(document.getElementById('day').value);
            const hour = parseInt(document.getElementById('hour').value);
            
            // ÏûÖÎ†•Í∞í Í≤ÄÏ¶ù
            if (year < 1900 || year > 2025) {
                alert('ÎÖÑÎèÑÎäî 1900ÎÖÑÎ∂ÄÌÑ∞ 2025ÎÖÑÍπåÏßÄ ÏûÖÎ†• Í∞ÄÎä•Ìï©ÎãàÎã§.');
                return;
            }
            
            if (month < 1 || month > 12) {
                alert('ÏõîÏùÄ 1Î∂ÄÌÑ∞ 12ÍπåÏßÄ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (day < 1 || day > 31) {
                alert('ÏùºÏùÄ 1Î∂ÄÌÑ∞ 31ÍπåÏßÄ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            if (hour < 0 || hour > 23) {
                alert('ÏãúÍ∞ÑÏùÄ 0Î∂ÄÌÑ∞ 23ÍπåÏßÄ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
                return;
            }
            
            const saju = calculateSaju(year, month, day, hour);
            displayResult(saju, year, month, day);
        });

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Îç∞Ïù¥ÌÑ∞ Î°úÎìú
        window.addEventListener('load', loadSajuData);
    </script>
</body>
</html>
