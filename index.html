<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ê·€ì—¬ìš´ ì‚¬ì£¼ AI</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff5f0;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem;
    }
    h1 {
      color: #ff6b81;
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    .form {
      background: #fff;
      padding: 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
    }
    input {
      width: 100%;
      padding: 0.6rem;
      margin-top: 0.3rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 1.5rem;
      padding: 0.8rem 1.2rem;
      background-color: #ff6b81;
      color: white;
      border: none;
      border-radius: 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .result {
      margin-top: 2rem;
      padding: 1.5rem;
      background: #fffbe0;
      border: 2px dashed #ffb347;
      border-radius: 1rem;
      max-width: 600px;
    }
  </style>
</head>
<body>
  <h1>ğŸ£ ê·€ì—¬ìš´ ì‚¬ì£¼ AI</h1>
  <div class="form">
    <label for="birth">ìƒë…„ì›”ì¼ì‹œë¥¼ ì…ë ¥í•˜ì„¸ìš”</label>
    <input type="text" id="birth" placeholder="ì˜ˆ: 1994-03-28 14:00" />
    <button onclick="getSaju()">ìš´ì„¸ ë³´ê¸°</button>
  </div>

  <div class="result" id="result" style="display: none;">
    <h2>ğŸ”® ì‚¬ì£¼ ê²°ê³¼</h2>
    <p><strong>ì‚¬ì£¼:</strong> <span id="saju"></span></p>
    <p><strong>ì„¤ëª…:</strong> <span id="description"></span></p>
    <p><strong>ì˜¤í–‰:</strong> <span id="element"></span></p>
    <p><strong>ìš©ì‹ :</strong> <span id="yongsin"></span></p>
  </div>

  <script>
    async function getSaju() {
      const birthInput = document.getElementById("birth").value;
      if (!birthInput) return alert("ìƒë…„ì›”ì¼ì‹œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");

      const resultDiv = document.getElementById("result");
      const sajuSpan = document.getElementById("saju");
      const description = document.getElementById("description");
      const element = document.getElementById("element");
      const yongsin = document.getElementById("yongsin");

      try {
        const response = await fetch("data.json");
        const data = await response.json();

        // ğŸ§  ì—¬ê¸°ì—ì„œ ì‹¤ì œ ì‚¬ì£¼ keyë¥¼ êµ¬í•˜ëŠ” ë¶€ë¶„ì€ ëŒ€ì²´ë¡œ ì„œë²„ë‚˜ AI APIì—ì„œ ì²˜ë¦¬
        // ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ëœë¤ í‚¤ or ìœ ì‚¬ í‚¤ë¥¼ ì°¾ëŠ” ë°©ì‹
        const keys = Object.keys(data);

        // í…ŒìŠ¤íŠ¸ìš©: ì…ë ¥ ë¬¸ìì—´ í•´ì‹œ ê¸°ë°˜ ìœ ì‚¬ í‚¤ ì„ íƒ
        const hash = Array.from(birthInput).reduce((acc, ch) => acc + ch.charCodeAt(0), 0);
        const idx = hash % keys.length;
        const matchedKey = keys[idx];
        const sajuData = data[matchedKey];

        resultDiv.style.display = "block";
        sajuSpan.textContent = matchedKey;
        description.textContent = sajuData["ì„¤ëª…"];
        element.textContent = sajuData["ì˜¤í–‰"];
        yongsin.textContent = sajuData["ìš©ì‹ "];
      } catch (err) {
        alert("ì‚¬ì£¼ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
      }
    }
  </script>
</body>
</html>
